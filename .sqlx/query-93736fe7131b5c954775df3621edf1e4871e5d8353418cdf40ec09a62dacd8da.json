{
  "db_name": "PostgreSQL",
  "query": "DELETE FROM history_status\n        WHERE user_id = $1\n          AND (\n            -- Prune by count: keep only the most recent N entries\n            (id NOT IN (\n              SELECT id FROM history_status\n              WHERE user_id = $1\n              ORDER BY created_at DESC\n              LIMIT $2\n            ))\n            OR\n            -- Prune by age: remove entries older than N days (0 disables)\n            (created_at <= NOW() - ($3 || ' days')::INTERVAL)\n          )",
  "describe": {
    "columns": [],
    "parameters": {
      "Left": [
        "Uuid",
        "Int8",
        "Text"
      ]
    },
    "nullable": []
  },
  "hash": "93736fe7131b5c954775df3621edf1e4871e5d8353418cdf40ec09a62dacd8da"
}
